{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vlad/Desktop/react-app/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = 'https://xyjjtcldwluxpanwbmte.supabase.co'\r\nconst supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5amp0Y2xkd2x1eHBhbndibXRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2OTEwNTUsImV4cCI6MjA4MDI2NzA1NX0.aNVI4Tw65QmeNxYdtN9bPTq3EUXe4czBR-VI6qpGR_w'\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\r\n\r\nexport interface BlogPost {\r\n  id: number\r\n  title: string\r\n  content: string\r\n  created_at: string\r\n  author_name: string\r\n  likes_count: number\r\n  tags: string[]\r\n}\r\n\r\nexport const blogApi = {\r\n  // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ—Å—Ç—ã (–º–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Ç–µ–≥—É)\r\n  async getPosts(tag?: string) {\r\n    let query = supabase\r\n      .from('posts')\r\n      .select('*')\r\n      .order('created_at', { ascending: false })\r\n    \r\n    // –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω —Ç–µ–≥ - —Ñ–∏–ª—å—Ç—Ä—É–µ–º\r\n    if (tag) {\r\n      query = query.contains('tags', [tag])\r\n    }\r\n    \r\n    const { data, error } = await query\r\n    \r\n    if (error) {\r\n      console.error('Error:', error)\r\n      return []\r\n    }\r\n    \r\n    return data as BlogPost[]\r\n  },\r\n  \r\n  // –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç —Å —Ç–µ–≥–∞–º–∏ (—Ç–µ–ø–µ—Ä—å –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ author_name)\r\n  async createPost(title: string, content: string, tags: string[] = [], authorName?: string) {\r\n    const { data, error } = await supabase\r\n      .from('posts')\r\n      .insert([\r\n        { \r\n          title, \r\n          content, \r\n          author_name: authorName || '–ì–æ—Å—Ç—å', // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–µ –∏–º—è –∏–ª–∏ \"–ì–æ—Å—Ç—å\"\r\n          likes_count: 0,\r\n          tags: tags\r\n        }\r\n      ])\r\n      .select()\r\n      .single()\r\n    \r\n    if (error) {\r\n      console.error('Error:', error)\r\n      return null\r\n    }\r\n    \r\n    return data as BlogPost\r\n  },\r\n  \r\n  // –õ–∞–π–∫ –ø–æ—Å—Ç–∞\r\n  async likePost(postId: number) {\r\n    const { data: post } = await supabase\r\n      .from('posts')\r\n      .select('likes_count')\r\n      .eq('id', postId)\r\n      .single()\r\n    \r\n    if (!post) return null\r\n    \r\n    const { data, error } = await supabase\r\n      .from('posts')\r\n      .update({ likes_count: (post.likes_count || 0) + 1 })\r\n      .eq('id', postId)\r\n      .select()\r\n    \r\n    if (error) {\r\n      console.error('Error:', error)\r\n      return null\r\n    }\r\n    \r\n    return data[0] as BlogPost\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,cAAc;AACpB,MAAM,kBAAkB;AAEjB,MAAM,WAAW,IAAA,qOAAY,EAAC,aAAa;AAY3C,MAAM,UAAU;IACrB,iDAAiD;IACjD,MAAM,UAAS,GAAY;QACzB,IAAI,QAAQ,SACT,IAAI,CAAC,SACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,+BAA+B;QAC/B,IAAI,KAAK;YACP,QAAQ,MAAM,QAAQ,CAAC,QAAQ;gBAAC;aAAI;QACtC;QAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM;QAE9B,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,UAAU;YACxB,OAAO,EAAE;QACX;QAEA,OAAO;IACT;IAEA,2DAA2D;IAC3D,MAAM,YAAW,KAAa,EAAE,OAAe,EAAE,OAAiB,EAAE,EAAE,UAAmB;QACvF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,SACL,MAAM,CAAC;YACN;gBACE;gBACA;gBACA,aAAa,cAAc;gBAC3B,aAAa;gBACb,MAAM;YACR;SACD,EACA,MAAM,GACN,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,UAAU;YACxB,OAAO;QACT;QAEA,OAAO;IACT;IAEA,aAAa;IACb,MAAM,UAAS,MAAc;QAC3B,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,SAC1B,IAAI,CAAC,SACL,MAAM,CAAC,eACP,EAAE,CAAC,MAAM,QACT,MAAM;QAET,IAAI,CAAC,MAAM,OAAO;QAElB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,SACL,MAAM,CAAC;YAAE,aAAa,CAAC,KAAK,WAAW,IAAI,CAAC,IAAI;QAAE,GAClD,EAAE,CAAC,MAAM,QACT,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,UAAU;YACxB,OAAO;QACT;QAEA,OAAO,IAAI,CAAC,EAAE;IAChB;AACF"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vlad/Desktop/react-app/src/lib/user-name-service.ts"],"sourcesContent":["import { supabase } from '@/lib/supabase';\r\n\r\nexport const userNameService = {\r\n  // –ü–æ–ª—É—á–∏—Ç—å –∏–º—è —Ç–µ–∫—É—â–µ–≥–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n  async getCurrentUserName(): Promise<string> {\r\n    try {\r\n      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è Supabase\r\n      const { data: { session }, error: sessionError } = await supabase.auth.getSession();\r\n      \r\n      if (sessionError || !session) {\r\n        console.log('–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –≥–æ—Å—Ç–µ–≤–æ–π —Ä–µ–∂–∏–º');\r\n        return this.getGuestName();\r\n      }\r\n\r\n      // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ auth\r\n      const user = session.user;\r\n      \r\n      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Ç–∞–±–ª–∏—Ü–µ users\r\n      const { data: userData, error: userError } = await supabase\r\n        .from('users')\r\n        .select('name')\r\n        .eq('id', user.id)\r\n        .single();\r\n\r\n      if (!userError && userData) {\r\n        return userData.name;\r\n      }\r\n\r\n      // –ï—Å–ª–∏ –Ω–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ users, –ø—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –∏–∑ user_metadata\r\n      if (user.user_metadata && user.user_metadata.name) {\r\n        return user.user_metadata.name;\r\n      }\r\n\r\n      // –ï—Å–ª–∏ –Ω–µ—Ç –≤ user_metadata, –∏—Å–ø–æ–ª—å–∑—É–µ–º —á–∞—Å—Ç—å email\r\n      if (user.email) {\r\n        return user.email.split('@')[0];\r\n      }\r\n\r\n      // –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ\r\n      return this.getGuestName();\r\n      \r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);\r\n      return this.getGuestName();\r\n    }\r\n  },\r\n\r\n  // –ü–æ–ª—É—á–∏—Ç—å –≥–æ—Å—Ç–µ–≤–æ–µ –∏–º—è (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)\r\n  getGuestName(): string {\r\n    if (typeof window !== 'undefined') {\r\n      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ –≥–æ—Å—Ç–µ–≤–æ–µ –∏–º—è\r\n      const savedName = localStorage.getItem('blog_guest_name');\r\n      if (savedName) {\r\n        return savedName;\r\n      }\r\n      \r\n      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤–æ–µ –≥–æ—Å—Ç–µ–≤–æ–µ –∏–º—è\r\n      const newName = this.generateGuestName();\r\n      localStorage.setItem('blog_guest_name', newName);\r\n      return newName;\r\n    }\r\n    return '–ì–æ—Å—Ç—å';\r\n  },\r\n\r\n  // –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –≥–æ—Å—Ç–µ–≤–æ–µ –∏–º—è\r\n  generateGuestName(): string {\r\n    const adjectives = ['–í–µ—Å–µ–ª—ã–π', '–°–µ—Ä—å–µ–∑–Ω—ã–π', '–õ—é–±–æ–ø—ã—Ç–Ω—ã–π', '–¢–≤–æ—Ä—á–µ—Å–∫–∏–π', '–£–º–Ω—ã–π', '–î–æ–±—Ä—ã–π', '–°—Ç—Ä–∞–Ω–Ω—ã–π', '–û—Ç–≤–∞–∂–Ω—ã–π', '–°–ø–æ–∫–æ–π–Ω—ã–π', '–≠–Ω–µ—Ä–≥–∏—á–Ω—ã–π'];\r\n    const nouns = ['–ß–∏—Ç–∞—Ç–µ–ª—å', '–ü–∏—Å–∞—Ç–µ–ª—å', '–ü—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫', '–ú—ã—Å–ª–∏—Ç–µ–ª—å', '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å', '–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å', '–ú–µ—á—Ç–∞—Ç–µ–ª—å', '–ö—Ä–∏—Ç–∏–∫', '–§–∞–Ω—Ç–∞–∑–µ—Ä', '–°–æ–≤–µ—Ç—á–∏–∫'];\r\n    \r\n    const randomAdj = adjectives[Math.floor(Math.random() * adjectives.length)];\r\n    const randomNoun = nouns[Math.floor(Math.random() * nouns.length)];\r\n    const randomNum = Math.floor(Math.random() * 1000);\r\n    \r\n    return `${randomAdj} ${randomNoun} ${randomNum}`;\r\n  },\r\n\r\n  // –ò–∑–º–µ–Ω–∏—Ç—å –≥–æ—Å—Ç–µ–≤–æ–π —Ä–µ–∂–∏–º (—Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö)\r\n  changeGuestName(newName: string): void {\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.setItem('blog_guest_name', newName.trim());\r\n    }\r\n  },\r\n\r\n  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\r\n  async isAuthenticated(): Promise<boolean> {\r\n    const { data: { session } } = await supabase.auth.getSession();\r\n    return !!session;\r\n  }\r\n};"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,kBAAkB;IAC7B,qDAAqD;IACrD,MAAM;QACJ,IAAI;YACF,8CAA8C;YAC9C,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,gKAAQ,CAAC,IAAI,CAAC,UAAU;YAEjF,IAAI,gBAAgB,CAAC,SAAS;gBAC5B,QAAQ,GAAG,CAAC;gBACZ,OAAO,IAAI,CAAC,YAAY;YAC1B;YAEA,uCAAuC;YACvC,MAAM,OAAO,QAAQ,IAAI;YAEzB,kDAAkD;YAClD,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,gKAAQ,CACxD,IAAI,CAAC,SACL,MAAM,CAAC,QACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;YAET,IAAI,CAAC,aAAa,UAAU;gBAC1B,OAAO,SAAS,IAAI;YACtB;YAEA,8DAA8D;YAC9D,IAAI,KAAK,aAAa,IAAI,KAAK,aAAa,CAAC,IAAI,EAAE;gBACjD,OAAO,KAAK,aAAa,CAAC,IAAI;YAChC;YAEA,mDAAmD;YACnD,IAAI,KAAK,KAAK,EAAE;gBACd,OAAO,KAAK,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;YACjC;YAEA,yBAAyB;YACzB,OAAO,IAAI,CAAC,YAAY;QAE1B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wCAAwC;YACtD,OAAO,IAAI,CAAC,YAAY;QAC1B;IACF;IAEA,2DAA2D;IAC3D;QACE,wCAAmC;YACjC,8CAA8C;YAC9C,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,IAAI,WAAW;gBACb,OAAO;YACT;YAEA,gCAAgC;YAChC,MAAM,UAAU,IAAI,CAAC,iBAAiB;YACtC,aAAa,OAAO,CAAC,mBAAmB;YACxC,OAAO;QACT;;;IAEF;IAEA,uCAAuC;IACvC;QACE,MAAM,aAAa;YAAC;YAAW;YAAa;YAAc;YAAc;YAAS;YAAU;YAAY;YAAY;YAAa;SAAa;QAC7I,MAAM,QAAQ;YAAC;YAAY;YAAY;YAAkB;YAAa;YAAiB;YAAe;YAAa;YAAU;YAAY;SAAW;QAEpJ,MAAM,YAAY,UAAU,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,WAAW,MAAM,EAAE;QAC3E,MAAM,aAAa,KAAK,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,MAAM,MAAM,EAAE;QAClE,MAAM,YAAY,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;QAE7C,OAAO,GAAG,UAAU,CAAC,EAAE,WAAW,CAAC,EAAE,WAAW;IAClD;IAEA,wDAAwD;IACxD,iBAAgB,OAAe;QAC7B,wCAAmC;YACjC,aAAa,OAAO,CAAC,mBAAmB,QAAQ,IAAI;QACtD;IACF;IAEA,yCAAyC;IACzC,MAAM;QACJ,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,gKAAQ,CAAC,IAAI,CAAC,UAAU;QAC5D,OAAO,CAAC,CAAC;IACX;AACF"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vlad/Desktop/react-app/src/lib/user-service.ts"],"sourcesContent":["import { supabase } from './supabase';\r\n\r\nexport interface User {\r\n  id: string\r\n  name: string\r\n  email: string\r\n  created_at: string\r\n}\r\n\r\nexport const userService = {\r\n  // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø–∞—Ä–æ–ª–µ–º\r\n  async register(name: string, email: string, password: string): Promise<User | null> {\r\n    try {\r\n      // 1. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –≤ Supabase Auth\r\n      const { data: authData, error: authError } = await supabase.auth.signUp({\r\n        email: email.trim(),\r\n        password: password.trim(),\r\n        options: {\r\n          data: {\r\n            name: name.trim()\r\n          }\r\n        }\r\n      });\r\n\r\n      if (authError) {\r\n        console.error('Auth error:', authError);\r\n        alert(authError.message || '–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏');\r\n        return null;\r\n      }\r\n\r\n      if (!authData.user) {\r\n        alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');\r\n        return null;\r\n      }\r\n\r\n      // 2. –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Ç–∞–±–ª–∏—Ü—É users\r\n      const { data: userData, error: userError } = await supabase\r\n        .from('users')\r\n        .insert([\r\n          {\r\n            id: authData.user.id,\r\n            name: name.trim(),\r\n            email: email.trim()\r\n          }\r\n        ])\r\n        .select()\r\n        .single();\r\n\r\n      if (userError) {\r\n        console.error('User table error:', userError);\r\n        // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ, —É–¥–∞–ª—è–µ–º –∏–∑ auth\r\n        await supabase.auth.admin.deleteUser(authData.user.id);\r\n        return null;\r\n      }\r\n\r\n      return userData as User;\r\n    } catch (err) {\r\n      console.error('Unexpected error:', err);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  // –í—Ö–æ–¥ —Å –ø–∞—Ä–æ–ª–µ–º\r\n  async login(email: string, password: string): Promise<User | null> {\r\n    try {\r\n      // 1. –í—Ö–æ–¥ —á–µ—Ä–µ–∑ Supabase Auth\r\n      const { data: authData, error: authError } = await supabase.auth.signInWithPassword({\r\n        email: email.trim(),\r\n        password: password.trim()\r\n      });\r\n\r\n      if (authError) {\r\n        console.error('Login error:', authError);\r\n        alert(authError.message || '–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å');\r\n        return null;\r\n      }\r\n\r\n      if (!authData.user) {\r\n        alert('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω');\r\n        return null;\r\n      }\r\n\r\n      // 2. –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã\r\n      const { data: userData, error: userError } = await supabase\r\n        .from('users')\r\n        .select('*')\r\n        .eq('id', authData.user.id)\r\n        .single();\r\n\r\n      if (userError) {\r\n        console.error('Fetch user error:', userError);\r\n        return null;\r\n      }\r\n\r\n      return userData as User;\r\n    } catch (err) {\r\n      console.error('Unexpected error:', err);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  // –í—ã–π—Ç–∏\r\n  async logout(): Promise<void> {\r\n    await supabase.auth.signOut();\r\n  },\r\n\r\n  // –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n  async getCurrentUser(): Promise<User | null> {\r\n    try {\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      \r\n      if (!user) return null;\r\n\r\n      const { data: userData } = await supabase\r\n        .from('users')\r\n        .select('*')\r\n        .eq('id', user.id)\r\n        .single();\r\n\r\n      return userData as User;\r\n    } catch (err) {\r\n      console.error('Error getting current user:', err);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π\r\n  async getUsers(): Promise<User[]> {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('users')\r\n        .select('*')\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (error) {\r\n        console.error('Error fetching users:', error);\r\n        return [];\r\n      }\r\n\r\n      return data as User[];\r\n    } catch (err) {\r\n      console.error('Unexpected error:', err);\r\n      return [];\r\n    }\r\n  },\r\n\r\n  // –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n  async deleteUser(id: string): Promise<boolean> {\r\n    try {\r\n      // –£–¥–∞–ª—è–µ–º –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π\r\n      const { error: tableError } = await supabase\r\n        .from('users')\r\n        .delete()\r\n        .eq('id', id);\r\n\r\n      if (tableError) {\r\n        console.error('Error deleting from users table:', tableError);\r\n        return false;\r\n      }\r\n\r\n      // –£–¥–∞–ª—è–µ–º –∏–∑ auth (–Ω—É–∂–Ω—ã –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∞)\r\n      const { error: authError } = await supabase.auth.admin.deleteUser(id);\r\n      if (authError) {\r\n        console.error('Error deleting from auth:', authError);\r\n      }\r\n\r\n      return true;\r\n    } catch (err) {\r\n      console.error('Unexpected error:', err);\r\n      return false;\r\n    }\r\n  },\r\n\r\n  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\r\n  async checkAuth(): Promise<boolean> {\r\n    const { data: { session } } = await supabase.auth.getSession();\r\n    return !!session;\r\n  }\r\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vlad/Desktop/react-app/src/components/Userinfo.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { userNameService } from '@/lib/user-name-service';\r\nimport { userService } from '@/lib/user-service';\r\n\r\ninterface UserInfoProps {\r\n  onNameChange?: (newName: string) => void;\r\n}\r\n\r\nexport default function UserInfo({ onNameChange }: UserInfoProps) {\r\n  const [userName, setUserName] = useState<string>('');\r\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean>(false);\r\n  const [showNameModal, setShowNameModal] = useState(false);\r\n  const [customName, setCustomName] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadUserInfo();\r\n  }, []);\r\n\r\n  const loadUserInfo = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const authStatus = await userNameService.isAuthenticated();\r\n      setIsAuthenticated(authStatus);\r\n      \r\n      if (authStatus) {\r\n        const name = await userNameService.getCurrentUserName();\r\n        setUserName(name);\r\n      } else {\r\n        const guestName = userNameService.getGuestName();\r\n        setUserName(guestName);\r\n      }\r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);\r\n      setUserName('–ì–æ—Å—Ç—å');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleChangeName = () => {\r\n    setCustomName(userName);\r\n    setShowNameModal(true);\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await userService.logout();\r\n      // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é\r\n      await loadUserInfo();\r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞ –≤—ã—Ö–æ–¥–∞:', error);\r\n    }\r\n  };\r\n\r\n  const saveNewName = async () => {\r\n    if (!customName.trim()) return;\r\n\r\n    if (isAuthenticated) {\r\n      // –î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - –æ–±–Ω–æ–≤–ª—è–µ–º –≤ –±–∞–∑–µ\r\n      try {\r\n        const currentUser = await userService.getCurrentUser();\r\n        if (currentUser) {\r\n          // –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–º–µ–Ω–∏ –≤ userService\r\n          // –ü–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –º–µ–Ω—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ\r\n          setUserName(customName.trim());\r\n          if (onNameChange) onNameChange(customName.trim());\r\n          setShowNameModal(false);\r\n        }\r\n      } catch (error) {\r\n        console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–º–µ–Ω–∏:', error);\r\n      }\r\n    } else {\r\n      // –î–ª—è –≥–æ—Å—Ç–µ–π - —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage\r\n      userNameService.changeGuestName(customName);\r\n      setUserName(customName.trim());\r\n      if (onNameChange) onNameChange(customName.trim());\r\n      setShowNameModal(false);\r\n    }\r\n  };\r\n\r\n  const resetToRandomName = () => {\r\n    const newName = userNameService.generateGuestName();\r\n    userNameService.changeGuestName(newName);\r\n    setUserName(newName);\r\n    if (onNameChange) onNameChange(newName);\r\n    setShowNameModal(false);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"user-info loading\">–ó–∞–≥—Ä—É–∑–∫–∞...</div>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"user-info\">\r\n        <div className=\"user-status\">\r\n          {isAuthenticated ? '‚úÖ' : 'üë§'}\r\n        </div>\r\n        <div className=\"user-details\">\r\n          <span className=\"user-name\">{userName}</span>\r\n          <span className=\"user-type\">\r\n            {isAuthenticated ? '–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω' : '–ì–æ—Å—Ç—å'}\r\n          </span>\r\n        </div>\r\n        <div className=\"user-actions\">\r\n          <button onClick={handleChangeName} className=\"change-name-btn\">\r\n            –ò–∑–º–µ–Ω–∏—Ç—å –∏–º—è\r\n          </button>\r\n          {isAuthenticated && (\r\n            <button onClick={handleLogout} className=\"logout-btn\">\r\n              –í—ã–π—Ç–∏\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {showNameModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowNameModal(false)}>\r\n          <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\r\n            <h3>–ò–∑–º–µ–Ω–∏—Ç—å –∏–º—è</h3>\r\n            <input\r\n              type=\"text\"\r\n              value={customName}\r\n              onChange={(e) => setCustomName(e.target.value)}\r\n              placeholder=\"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –∏–º—è\"\r\n              className=\"form-input\"\r\n            />\r\n            <div className=\"modal-buttons\">\r\n              <button onClick={saveNewName} className=\"submit-btn\">\r\n                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å\r\n              </button>\r\n              {!isAuthenticated && (\r\n                <button onClick={resetToRandomName} className=\"secondary-btn\">\r\n                  –°–ª—É—á–∞–π–Ω–æ–µ –∏–º—è\r\n                </button>\r\n              )}\r\n              <button \r\n                onClick={() => setShowNameModal(false)} \r\n                className=\"cancel-btn\"\r\n              >\r\n                –û—Ç–º–µ–Ω–∞\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 574, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vlad/Desktop/react-app/src/app/blog/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { blogApi, BlogPost } from '@/lib/supabase';\r\nimport { userNameService } from '@/lib/user-name-service';\r\nimport UserInfo from '@/components/Userinfo';\r\nimport Link from 'next/link';\r\nimport './blog.css';\r\n\r\nexport default function BlogPage() {\r\n  const [posts, setPosts] = useState<BlogPost[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [newPost, setNewPost] = useState({\r\n    title: '',\r\n    content: '',\r\n    tagInput: ''\r\n  });\r\n  const [tags, setTags] = useState<string[]>([]);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [searchTag, setSearchTag] = useState('');\r\n  const [currentUserName, setCurrentUserName] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    loadPosts();\r\n    loadUserName();\r\n  }, []);\r\n\r\n  const loadPosts = async (tag?: string) => {\r\n    setLoading(true);\r\n    try {\r\n      const data = await blogApi.getPosts(tag);\r\n      setPosts(data);\r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞:', error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const loadUserName = async () => {\r\n    const userName = await userNameService.getCurrentUserName();\r\n    setCurrentUserName(userName);\r\n  };\r\n\r\n  const addTag = () => {\r\n    const tag = newPost.tagInput.trim().toLowerCase();\r\n    if (tag && !tags.includes(tag)) {\r\n      setTags([...tags, tag]);\r\n      setNewPost({...newPost, tagInput: ''});\r\n    }\r\n  };\r\n\r\n  const removeTag = (tagToRemove: string) => {\r\n    setTags(tags.filter(tag => tag !== tagToRemove));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!newPost.title.trim() || !newPost.content.trim()) {\r\n      alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ');\r\n      return;\r\n    }\r\n    \r\n    setSubmitting(true);\r\n    try {\r\n      const createdPost = await blogApi.createPost(\r\n        newPost.title,\r\n        newPost.content,\r\n        tags,\r\n        currentUserName\r\n      );\r\n      \r\n      if (createdPost) {\r\n        setPosts([createdPost, ...posts]);\r\n        setNewPost({ title: '', content: '', tagInput: '' });\r\n        setTags([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞:', error);\r\n      alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç');\r\n    }\r\n    setSubmitting(false);\r\n  };\r\n\r\n  const handleTagSearch = (tag: string) => {\r\n    setSearchTag(tag);\r\n    loadPosts(tag);\r\n  };\r\n\r\n  const clearSearch = () => {\r\n    setSearchTag('');\r\n    loadPosts();\r\n  };\r\n\r\n  const handleLike = async (postId: number) => {\r\n    try {\r\n      const updatedPost = await blogApi.likePost(postId);\r\n      if (updatedPost) {\r\n        setPosts(posts.map(post => \r\n          post.id === postId \r\n            ? { ...post, likes_count: updatedPost.likes_count }\r\n            : post\r\n        ));\r\n      }\r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞:', error);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('ru-RU', {\r\n      day: 'numeric',\r\n      month: 'long',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  const handleNameChange = (newName: string) => {\r\n    setCurrentUserName(newName);\r\n  };\r\n\r\n  return (\r\n    <div className=\"blog-container\">\r\n      <header className=\"blog-header\">\r\n        <h1>üìù –ë–ª–æ–≥</h1>\r\n        <div className=\"header-right\">\r\n          <UserInfo onNameChange={handleNameChange} />\r\n          <Link href=\"/\" className=\"back-link\">\r\n            ‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é\r\n          </Link>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"blog-main\">\r\n        {/* –õ–µ–≤–∞—è —á–∞—Å—Ç—å - —Ñ–æ—Ä–º–∞ */}\r\n        <div className=\"form-section\">\r\n          <h2>–ù–æ–≤—ã–π –ø–æ—Å—Ç</h2>\r\n          \r\n          {/* –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥–∞–º */}\r\n          <div className=\"search-box\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"–ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥—É...\"\r\n              value={searchTag}\r\n              onChange={(e) => setSearchTag(e.target.value)}\r\n              className=\"search-input\"\r\n            />\r\n            <button \r\n              onClick={() => handleTagSearch(searchTag)}\r\n              className=\"search-btn\"\r\n            >\r\n              –ù–∞–π—Ç–∏\r\n            </button>\r\n            {searchTag && (\r\n              <button onClick={clearSearch} className=\"clear-btn\">\r\n                ‚úï\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞ */}\r\n          <form onSubmit={handleSubmit} className=\"post-form\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"–ó–∞–≥–æ–ª–æ–≤–æ–∫\"\r\n              value={newPost.title}\r\n              onChange={(e) => setNewPost({...newPost, title: e.target.value})}\r\n              className=\"form-input\"\r\n              required\r\n            />\r\n            \r\n            <textarea\r\n              placeholder=\"–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞...\"\r\n              value={newPost.content}\r\n              onChange={(e) => setNewPost({...newPost, content: e.target.value})}\r\n              className=\"form-textarea\"\r\n              rows={4}\r\n              required\r\n            />\r\n            \r\n            {/* –í–≤–æ–¥ —Ç–µ–≥–æ–≤ */}\r\n            <div className=\"tags-input\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥\"\r\n                value={newPost.tagInput}\r\n                onChange={(e) => setNewPost({...newPost, tagInput: e.target.value})}\r\n                onKeyDown={(e) => e.key === 'Enter' && (e.preventDefault(), addTag())}\r\n                className=\"tag-input\"\r\n              />\r\n              <button type=\"button\" onClick={addTag} className=\"add-tag-btn\">\r\n                +\r\n              </button>\r\n            </div>\r\n            \r\n            {/* –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–µ–≥–∏ */}\r\n            {tags.length > 0 && (\r\n              <div className=\"selected-tags\">\r\n                {tags.map(tag => (\r\n                  <span key={tag} className=\"tag\">\r\n                    #{tag}\r\n                    <button \r\n                      type=\"button\"\r\n                      onClick={() => removeTag(tag)}\r\n                      className=\"remove-tag\"\r\n                    >\r\n                      √ó\r\n                    </button>\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"submit-section\">\r\n              \r\n              <button type=\"submit\" disabled={submitting} className=\"submit-btn\">\r\n                {submitting ? '–ü—É–±–ª–∏–∫–∞—Ü–∏—è...' : '–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        {/* –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å - –ø–æ—Å—Ç—ã */}\r\n        <div className=\"posts-section\">\r\n          <h2>\r\n            {searchTag ? `–ü–æ—Å—Ç—ã —Å —Ç–µ–≥–æ–º: #${searchTag}` : '–í—Å–µ –ø–æ—Å—Ç—ã'}\r\n            <span className=\"count\"> ({posts.length})</span>\r\n          </h2>\r\n          \r\n          {loading ? (\r\n            <p className=\"loading\">–ó–∞–≥—Ä—É–∑–∫–∞...</p>\r\n          ) : posts.length === 0 ? (\r\n            <p className=\"no-posts\">\r\n              {searchTag ? `–ù–µ—Ç –ø–æ—Å—Ç–æ–≤ —Å —Ç–µ–≥–æ–º #${searchTag}` : '–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å—Ç–æ–≤'}\r\n            </p>\r\n          ) : (\r\n            <div className=\"posts-list\">\r\n              {posts.map(post => (\r\n                <div key={post.id} className=\"post-card\">\r\n                  <div className=\"post-header\">\r\n                    <h3>{post.title}</h3>\r\n                    <button \r\n                      onClick={() => handleLike(post.id)}\r\n                      className=\"like-btn\"\r\n                    >\r\n                      ‚ù§Ô∏è {post.likes_count || 0}\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  <div className=\"post-meta\">\r\n                    <span>üë§ {post.author_name || '–ì–æ—Å—Ç—å'}</span>\r\n                    <span>üìÖ {formatDate(post.created_at)}</span>\r\n                  </div>\r\n                  \r\n                  {post.tags && post.tags.length > 0 && (\r\n                    <div className=\"post-tags\">\r\n                      {post.tags.map(tag => (\r\n                        <button\r\n                          key={tag}\r\n                          onClick={() => handleTagSearch(tag)}\r\n                          className=\"post-tag\"\r\n                        >\r\n                          #{tag}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                  \r\n                  <p className=\"post-content\">{post.content}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}