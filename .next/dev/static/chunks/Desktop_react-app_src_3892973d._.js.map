{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vlad/Desktop/react-app/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = 'https://xyjjtcldwluxpanwbmte.supabase.co'\r\nconst supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5amp0Y2xkd2x1eHBhbndibXRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2OTEwNTUsImV4cCI6MjA4MDI2NzA1NX0.aNVI4Tw65QmeNxYdtN9bPTq3EUXe4czBR-VI6qpGR_w'\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\r\n\r\nexport interface BlogPost {\r\n  id: number\r\n  title: string\r\n  content: string\r\n  created_at: string\r\n  author_name: string\r\n  likes_count: number\r\n  tags: string[]\r\n}\r\n\r\nexport const blogApi = {\r\n  // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ—Å—Ç—ã (–º–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Ç–µ–≥—É)\r\n  async getPosts(tag?: string) {\r\n    let query = supabase\r\n      .from('posts')\r\n      .select('*')\r\n      .order('created_at', { ascending: false })\r\n    \r\n    // –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω —Ç–µ–≥ - —Ñ–∏–ª—å—Ç—Ä—É–µ–º\r\n    if (tag) {\r\n      query = query.contains('tags', [tag])\r\n    }\r\n    \r\n    const { data, error } = await query\r\n    \r\n    if (error) {\r\n      console.error('Error:', error)\r\n      return []\r\n    }\r\n    \r\n    return data as BlogPost[]\r\n  },\r\n  \r\n  // –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç —Å —Ç–µ–≥–∞–º–∏ (—Ç–µ–ø–µ—Ä—å –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ author_name)\r\n  async createPost(title: string, content: string, tags: string[] = [], authorName?: string) {\r\n    const { data, error } = await supabase\r\n      .from('posts')\r\n      .insert([\r\n        { \r\n          title, \r\n          content, \r\n          author_name: authorName || '–ì–æ—Å—Ç—å', // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–µ –∏–º—è –∏–ª–∏ \"–ì–æ—Å—Ç—å\"\r\n          likes_count: 0,\r\n          tags: tags\r\n        }\r\n      ])\r\n      .select()\r\n      .single()\r\n    \r\n    if (error) {\r\n      console.error('Error:', error)\r\n      return null\r\n    }\r\n    \r\n    return data as BlogPost\r\n  },\r\n  \r\n  // –õ–∞–π–∫ –ø–æ—Å—Ç–∞\r\n  async likePost(postId: number) {\r\n    const { data: post } = await supabase\r\n      .from('posts')\r\n      .select('likes_count')\r\n      .eq('id', postId)\r\n      .single()\r\n    \r\n    if (!post) return null\r\n    \r\n    const { data, error } = await supabase\r\n      .from('posts')\r\n      .update({ likes_count: (post.likes_count || 0) + 1 })\r\n      .eq('id', postId)\r\n      .select()\r\n    \r\n    if (error) {\r\n      console.error('Error:', error)\r\n      return null\r\n    }\r\n    \r\n    return data[0] as BlogPost\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,cAAc;AACpB,MAAM,kBAAkB;AAEjB,MAAM,WAAW,IAAA,qOAAY,EAAC,aAAa;AAY3C,MAAM,UAAU;IACrB,iDAAiD;IACjD,MAAM,UAAS,GAAY;QACzB,IAAI,QAAQ,SACT,IAAI,CAAC,SACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,+BAA+B;QAC/B,IAAI,KAAK;YACP,QAAQ,MAAM,QAAQ,CAAC,QAAQ;gBAAC;aAAI;QACtC;QAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM;QAE9B,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,UAAU;YACxB,OAAO,EAAE;QACX;QAEA,OAAO;IACT;IAEA,2DAA2D;IAC3D,MAAM,YAAW,KAAa,EAAE,OAAe,EAAE,OAAiB,EAAE,EAAE,UAAmB;QACvF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,SACL,MAAM,CAAC;YACN;gBACE;gBACA;gBACA,aAAa,cAAc;gBAC3B,aAAa;gBACb,MAAM;YACR;SACD,EACA,MAAM,GACN,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,UAAU;YACxB,OAAO;QACT;QAEA,OAAO;IACT;IAEA,aAAa;IACb,MAAM,UAAS,MAAc;QAC3B,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,SAC1B,IAAI,CAAC,SACL,MAAM,CAAC,eACP,EAAE,CAAC,MAAM,QACT,MAAM;QAET,IAAI,CAAC,MAAM,OAAO;QAElB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,SACL,MAAM,CAAC;YAAE,aAAa,CAAC,KAAK,WAAW,IAAI,CAAC,IAAI;QAAE,GAClD,EAAE,CAAC,MAAM,QACT,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,UAAU;YACxB,OAAO;QACT;QAEA,OAAO,IAAI,CAAC,EAAE;IAChB;AACF"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vlad/Desktop/react-app/src/lib/user-name-service.ts"],"sourcesContent":["import { supabase } from '@/lib/supabase';\r\n\r\nexport const userNameService = {\r\n  // –ü–æ–ª—É—á–∏—Ç—å –∏–º—è —Ç–µ–∫—É—â–µ–≥–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n  async getCurrentUserName(): Promise<string> {\r\n    try {\r\n      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è Supabase\r\n      const { data: { session }, error: sessionError } = await supabase.auth.getSession();\r\n      \r\n      if (sessionError || !session) {\r\n        console.log('–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –≥–æ—Å—Ç–µ–≤–æ–π —Ä–µ–∂–∏–º');\r\n        return this.getGuestName();\r\n      }\r\n\r\n      // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ auth\r\n      const user = session.user;\r\n      \r\n      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Ç–∞–±–ª–∏—Ü–µ users\r\n      const { data: userData, error: userError } = await supabase\r\n        .from('users')\r\n        .select('name')\r\n        .eq('id', user.id)\r\n        .single();\r\n\r\n      if (!userError && userData) {\r\n        return userData.name;\r\n      }\r\n\r\n      // –ï—Å–ª–∏ –Ω–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ users, –ø—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –∏–∑ user_metadata\r\n      if (user.user_metadata && user.user_metadata.name) {\r\n        return user.user_metadata.name;\r\n      }\r\n\r\n      // –ï—Å–ª–∏ –Ω–µ—Ç –≤ user_metadata, –∏—Å–ø–æ–ª—å–∑—É–µ–º —á–∞—Å—Ç—å email\r\n      if (user.email) {\r\n        return user.email.split('@')[0];\r\n      }\r\n\r\n      // –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ\r\n      return this.getGuestName();\r\n      \r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);\r\n      return this.getGuestName();\r\n    }\r\n  },\r\n\r\n  // –ü–æ–ª—É—á–∏—Ç—å –≥–æ—Å—Ç–µ–≤–æ–µ –∏–º—è (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)\r\n  getGuestName(): string {\r\n    if (typeof window !== 'undefined') {\r\n      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ –≥–æ—Å—Ç–µ–≤–æ–µ –∏–º—è\r\n      const savedName = localStorage.getItem('blog_guest_name');\r\n      if (savedName) {\r\n        return savedName;\r\n      }\r\n      \r\n      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤–æ–µ –≥–æ—Å—Ç–µ–≤–æ–µ –∏–º—è\r\n      const newName = this.generateGuestName();\r\n      localStorage.setItem('blog_guest_name', newName);\r\n      return newName;\r\n    }\r\n    return '–ì–æ—Å—Ç—å';\r\n  },\r\n\r\n  // –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –≥–æ—Å—Ç–µ–≤–æ–µ –∏–º—è\r\n  generateGuestName(): string {\r\n    const adjectives = ['–í–µ—Å–µ–ª—ã–π', '–°–µ—Ä—å–µ–∑–Ω—ã–π', '–õ—é–±–æ–ø—ã—Ç–Ω—ã–π', '–¢–≤–æ—Ä—á–µ—Å–∫–∏–π', '–£–º–Ω—ã–π', '–î–æ–±—Ä—ã–π', '–°—Ç—Ä–∞–Ω–Ω—ã–π', '–û—Ç–≤–∞–∂–Ω—ã–π', '–°–ø–æ–∫–æ–π–Ω—ã–π', '–≠–Ω–µ—Ä–≥–∏—á–Ω—ã–π'];\r\n    const nouns = ['–ß–∏—Ç–∞—Ç–µ–ª—å', '–ü–∏—Å–∞—Ç–µ–ª—å', '–ü—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫', '–ú—ã—Å–ª–∏—Ç–µ–ª—å', '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å', '–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å', '–ú–µ—á—Ç–∞—Ç–µ–ª—å', '–ö—Ä–∏—Ç–∏–∫', '–§–∞–Ω—Ç–∞–∑–µ—Ä', '–°–æ–≤–µ—Ç—á–∏–∫'];\r\n    \r\n    const randomAdj = adjectives[Math.floor(Math.random() * adjectives.length)];\r\n    const randomNoun = nouns[Math.floor(Math.random() * nouns.length)];\r\n    const randomNum = Math.floor(Math.random() * 1000);\r\n    \r\n    return `${randomAdj} ${randomNoun} ${randomNum}`;\r\n  },\r\n\r\n  // –ò–∑–º–µ–Ω–∏—Ç—å –≥–æ—Å—Ç–µ–≤–æ–π —Ä–µ–∂–∏–º (—Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö)\r\n  changeGuestName(newName: string): void {\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.setItem('blog_guest_name', newName.trim());\r\n    }\r\n  },\r\n\r\n  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\r\n  async isAuthenticated(): Promise<boolean> {\r\n    const { data: { session } } = await supabase.auth.getSession();\r\n    return !!session;\r\n  }\r\n};"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,kBAAkB;IAC7B,qDAAqD;IACrD,MAAM;QACJ,IAAI;YACF,8CAA8C;YAC9C,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,gKAAQ,CAAC,IAAI,CAAC,UAAU;YAEjF,IAAI,gBAAgB,CAAC,SAAS;gBAC5B,QAAQ,GAAG,CAAC;gBACZ,OAAO,IAAI,CAAC,YAAY;YAC1B;YAEA,uCAAuC;YACvC,MAAM,OAAO,QAAQ,IAAI;YAEzB,kDAAkD;YAClD,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,gKAAQ,CACxD,IAAI,CAAC,SACL,MAAM,CAAC,QACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;YAET,IAAI,CAAC,aAAa,UAAU;gBAC1B,OAAO,SAAS,IAAI;YACtB;YAEA,8DAA8D;YAC9D,IAAI,KAAK,aAAa,IAAI,KAAK,aAAa,CAAC,IAAI,EAAE;gBACjD,OAAO,KAAK,aAAa,CAAC,IAAI;YAChC;YAEA,mDAAmD;YACnD,IAAI,KAAK,KAAK,EAAE;gBACd,OAAO,KAAK,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;YACjC;YAEA,yBAAyB;YACzB,OAAO,IAAI,CAAC,YAAY;QAE1B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wCAAwC;YACtD,OAAO,IAAI,CAAC,YAAY;QAC1B;IACF;IAEA,2DAA2D;IAC3D;QACE,wCAAmC;YACjC,8CAA8C;YAC9C,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,IAAI,WAAW;gBACb,OAAO;YACT;YAEA,gCAAgC;YAChC,MAAM,UAAU,IAAI,CAAC,iBAAiB;YACtC,aAAa,OAAO,CAAC,mBAAmB;YACxC,OAAO;QACT;;;IAEF;IAEA,uCAAuC;IACvC;QACE,MAAM,aAAa;YAAC;YAAW;YAAa;YAAc;YAAc;YAAS;YAAU;YAAY;YAAY;YAAa;SAAa;QAC7I,MAAM,QAAQ;YAAC;YAAY;YAAY;YAAkB;YAAa;YAAiB;YAAe;YAAa;YAAU;YAAY;SAAW;QAEpJ,MAAM,YAAY,UAAU,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,WAAW,MAAM,EAAE;QAC3E,MAAM,aAAa,KAAK,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,MAAM,MAAM,EAAE;QAClE,MAAM,YAAY,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;QAE7C,OAAO,GAAG,UAAU,CAAC,EAAE,WAAW,CAAC,EAAE,WAAW;IAClD;IAEA,wDAAwD;IACxD,iBAAgB,OAAe;QAC7B,wCAAmC;YACjC,aAAa,OAAO,CAAC,mBAAmB,QAAQ,IAAI;QACtD;IACF;IAEA,yCAAyC;IACzC,MAAM;QACJ,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,gKAAQ,CAAC,IAAI,CAAC,UAAU;QAC5D,OAAO,CAAC,CAAC;IACX;AACF"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vlad/Desktop/react-app/src/app/blog/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { blogApi, BlogPost } from '@/lib/supabase';\r\nimport { userNameService } from '@/lib/user-name-service';\r\nimport Link from 'next/link';\r\nimport './blog.css';\r\n\r\nexport default function BlogPage() {\r\n  const [posts, setPosts] = useState<BlogPost[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [newPost, setNewPost] = useState({\r\n    title: '',\r\n    content: '',\r\n    tagInput: '' // –£–±—Ä–∞–ª–∏ –ø–æ–ª–µ author\r\n  });\r\n  const [tags, setTags] = useState<string[]>([]);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [searchTag, setSearchTag] = useState('');\r\n  const [currentUserName, setCurrentUserName] = useState<string>('');\r\n  const [showNameModal, setShowNameModal] = useState(false);\r\n  const [customName, setCustomName] = useState('');\r\n\r\n  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ\r\n  useEffect(() => {\r\n    loadPosts();\r\n    initUserName();\r\n  }, []);\r\n\r\n  // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ—Å—Ç—ã\r\n  const loadPosts = async (tag?: string) => {\r\n    setLoading(true);\r\n    try {\r\n      const data = await blogApi.getPosts(tag);\r\n      setPosts(data);\r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞:', error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n  const initUserName = () => {\r\n    const userName = userNameService.getOrCreateUserName();\r\n    setCurrentUserName(userName);\r\n  };\r\n\r\n  // –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥\r\n  const addTag = () => {\r\n    const tag = newPost.tagInput.trim().toLowerCase();\r\n    if (tag && !tags.includes(tag)) {\r\n      setTags([...tags, tag]);\r\n      setNewPost({...newPost, tagInput: ''});\r\n    }\r\n  };\r\n\r\n  // –£–¥–∞–ª–∏—Ç—å —Ç–µ–≥\r\n  const removeTag = (tagToRemove: string) => {\r\n    setTags(tags.filter(tag => tag !== tagToRemove));\r\n  };\r\n\r\n  // –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!newPost.title.trim() || !newPost.content.trim()) {\r\n      alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ');\r\n      return;\r\n    }\r\n    \r\n    setSubmitting(true);\r\n    try {\r\n      const createdPost = await blogApi.createPost(\r\n        newPost.title,\r\n        newPost.content,\r\n        tags,\r\n        currentUserName // –ü–µ—Ä–µ–¥–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∏–º—è\r\n      );\r\n      \r\n      if (createdPost) {\r\n        setPosts([createdPost, ...posts]);\r\n        setNewPost({ title: '', content: '', tagInput: '' });\r\n        setTags([]);\r\n        alert('–ü–æ—Å—Ç —Å–æ–∑–¥–∞–Ω!');\r\n      }\r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞:', error);\r\n      alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç');\r\n    }\r\n    setSubmitting(false);\r\n  };\r\n\r\n  // –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥—É\r\n  const handleTagSearch = (tag: string) => {\r\n    setSearchTag(tag);\r\n    loadPosts(tag);\r\n  };\r\n\r\n  // –°–±—Ä–æ—Å–∏—Ç—å –ø–æ–∏—Å–∫\r\n  const clearSearch = () => {\r\n    setSearchTag('');\r\n    loadPosts();\r\n  };\r\n\r\n  // –õ–∞–π–∫ –ø–æ—Å—Ç–∞\r\n  const handleLike = async (postId: number) => {\r\n    try {\r\n      const updatedPost = await blogApi.likePost(postId);\r\n      if (updatedPost) {\r\n        setPosts(posts.map(post => \r\n          post.id === postId \r\n            ? { ...post, likes_count: updatedPost.likes_count }\r\n            : post\r\n        ));\r\n      }\r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞:', error);\r\n    }\r\n  };\r\n\r\n  // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('ru-RU', {\r\n      day: 'numeric',\r\n      month: 'long',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  // –ò–∑–º–µ–Ω–∏—Ç—å –∏–º—è\r\n  const handleChangeName = () => {\r\n    setCustomName(currentUserName);\r\n    setShowNameModal(true);\r\n  };\r\n\r\n  // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–æ–≤–æ–µ –∏–º—è\r\n  const saveNewName = () => {\r\n    if (customName.trim()) {\r\n      userNameService.saveUserName(customName.trim());\r\n      setCurrentUserName(customName.trim());\r\n      setShowNameModal(false);\r\n    }\r\n  };\r\n\r\n  // –°–±—Ä–æ—Å–∏—Ç—å –Ω–∞ —Å–ª—É—á–∞–π–Ω–æ–µ –∏–º—è\r\n  const resetToRandomName = () => {\r\n    const newName = userNameService.resetUserName();\r\n    setCurrentUserName(newName);\r\n    setShowNameModal(false);\r\n  };\r\n\r\n  // –ú–æ–¥–∞–ª–∫–∞ –¥–ª—è —Å–º–µ–Ω—ã –∏–º–µ–Ω–∏\r\n  const NameModal = () => {\r\n    if (!showNameModal) return null;\r\n\r\n    return (\r\n      <div className=\"modal-overlay\">\r\n        <div className=\"modal\">\r\n          <h3>–í–∞—à–µ –∏–º—è –¥–ª—è –ø–æ—Å—Ç–æ–≤</h3>\r\n          <input\r\n            type=\"text\"\r\n            value={customName}\r\n            onChange={(e) => setCustomName(e.target.value)}\r\n            placeholder=\"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è\"\r\n            className=\"form-input\"\r\n          />\r\n          <div className=\"modal-buttons\">\r\n            <button onClick={saveNewName} className=\"submit-btn\">\r\n              –°–æ—Ö—Ä–∞–Ω–∏—Ç—å\r\n            </button>\r\n            <button onClick={resetToRandomName} className=\"secondary-btn\">\r\n              –°–ª—É—á–∞–π–Ω–æ–µ –∏–º—è\r\n            </button>\r\n            <button onClick={() => setShowNameModal(false)} className=\"cancel-btn\">\r\n              –û—Ç–º–µ–Ω–∞\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"blog-container\">\r\n      <header className=\"blog-header\">\r\n        <h1>üìù –ë–ª–æ–≥ —Å —Ç–µ–≥–∞–º–∏</h1>\r\n        <div className=\"header-right\">\r\n          <div className=\"user-info\">\r\n            <span>–í—ã –ø—É–±–ª–∏–∫—É–µ—Ç–µ –∫–∞–∫: <strong>{currentUserName}</strong></span>\r\n            <button onClick={handleChangeName} className=\"change-name-btn\">\r\n              ‚úé –ò–∑–º–µ–Ω–∏—Ç—å\r\n            </button>\r\n          </div>\r\n          <Link href=\"/\" className=\"back-link\">\r\n            ‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é\r\n          </Link>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"blog-main\">\r\n        {/* –õ–µ–≤–∞—è —á–∞—Å—Ç—å - —Ñ–æ—Ä–º–∞ */}\r\n        <div className=\"form-section\">\r\n          <h2>–ù–æ–≤—ã–π –ø–æ—Å—Ç</h2>\r\n          \r\n          {/* –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥–∞–º */}\r\n          <div className=\"search-box\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"–ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥—É...\"\r\n              value={searchTag}\r\n              onChange={(e) => setSearchTag(e.target.value)}\r\n              className=\"search-input\"\r\n            />\r\n            <button \r\n              onClick={() => handleTagSearch(searchTag)}\r\n              className=\"search-btn\"\r\n            >\r\n              –ù–∞–π—Ç–∏\r\n            </button>\r\n            {searchTag && (\r\n              <button onClick={clearSearch} className=\"clear-btn\">\r\n                ‚úï\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞ */}\r\n          <form onSubmit={handleSubmit} className=\"post-form\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"–ó–∞–≥–æ–ª–æ–≤–æ–∫\"\r\n              value={newPost.title}\r\n              onChange={(e) => setNewPost({...newPost, title: e.target.value})}\r\n              className=\"form-input\"\r\n              required\r\n            />\r\n            \r\n            {/* –ü–æ–ª–µ author —É–±—Ä–∞–Ω–æ! */}\r\n            \r\n            <textarea\r\n              placeholder=\"–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞...\"\r\n              value={newPost.content}\r\n              onChange={(e) => setNewPost({...newPost, content: e.target.value})}\r\n              className=\"form-textarea\"\r\n              rows={4}\r\n              required\r\n            />\r\n            \r\n            {/* –í–≤–æ–¥ —Ç–µ–≥–æ–≤ */}\r\n            <div className=\"tags-input\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥\"\r\n                value={newPost.tagInput}\r\n                onChange={(e) => setNewPost({...newPost, tagInput: e.target.value})}\r\n                onKeyDown={(e) => e.key === 'Enter' && (e.preventDefault(), addTag())}\r\n                className=\"tag-input\"\r\n              />\r\n              <button type=\"button\" onClick={addTag} className=\"add-tag-btn\">\r\n                +\r\n              </button>\r\n            </div>\r\n            \r\n            {/* –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–µ–≥–∏ */}\r\n            {tags.length > 0 && (\r\n              <div className=\"selected-tags\">\r\n                {tags.map(tag => (\r\n                  <span key={tag} className=\"tag\">\r\n                    #{tag}\r\n                    <button \r\n                      type=\"button\"\r\n                      onClick={() => removeTag(tag)}\r\n                      className=\"remove-tag\"\r\n                    >\r\n                      √ó\r\n                    </button>\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"submit-section\">\r\n              <span className=\"post-as\">–ü—É–±–ª–∏–∫—É–µ—Ç—Å—è –∫–∞–∫: {currentUserName}</span>\r\n              <button type=\"submit\" disabled={submitting} className=\"submit-btn\">\r\n                {submitting ? '–ü—É–±–ª–∏–∫–∞—Ü–∏—è...' : '–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        {/* –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å - –ø–æ—Å—Ç—ã */}\r\n        <div className=\"posts-section\">\r\n          <h2>\r\n            {searchTag ? `–ü–æ—Å—Ç—ã —Å —Ç–µ–≥–æ–º: #${searchTag}` : '–í—Å–µ –ø–æ—Å—Ç—ã'}\r\n            <span className=\"count\"> ({posts.length})</span>\r\n          </h2>\r\n          \r\n          {loading ? (\r\n            <p className=\"loading\">–ó–∞–≥—Ä—É–∑–∫–∞...</p>\r\n          ) : posts.length === 0 ? (\r\n            <p className=\"no-posts\">\r\n              {searchTag ? `–ù–µ—Ç –ø–æ—Å—Ç–æ–≤ —Å —Ç–µ–≥–æ–º #${searchTag}` : '–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å—Ç–æ–≤'}\r\n            </p>\r\n          ) : (\r\n            <div className=\"posts-list\">\r\n              {posts.map(post => (\r\n                <div key={post.id} className=\"post-card\">\r\n                  <div className=\"post-header\">\r\n                    <h3>{post.title}</h3>\r\n                    <button \r\n                      onClick={() => handleLike(post.id)}\r\n                      className=\"like-btn\"\r\n                    >\r\n                      ‚ù§Ô∏è {post.likes_count || 0}\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  <div className=\"post-meta\">\r\n                    <span>üë§ {post.author_name || '–ì–æ—Å—Ç—å'}</span>\r\n                    <span>üìÖ {formatDate(post.created_at)}</span>\r\n                  </div>\r\n                  \r\n                  {/* –¢–µ–≥–∏ –ø–æ—Å—Ç–∞ */}\r\n                  {post.tags && post.tags.length > 0 && (\r\n                    <div className=\"post-tags\">\r\n                      {post.tags.map(tag => (\r\n                        <button\r\n                          key={tag}\r\n                          onClick={() => handleTagSearch(tag)}\r\n                          className=\"post-tag\"\r\n                        >\r\n                          #{tag}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                  \r\n                  <p className=\"post-content\">{post.content}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <NameModal />\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}